# 启动指南

## 🚀 一键启动（推荐）

### 方法1：使用批处理文件（Windows）
双击项目根目录下的 `启动平台.bat` 文件

### 方法2：使用 npm 命令
```bash
npm start
```

---

## 📋 启动流程说明

启动脚本会自动按顺序启动以下服务：

1. **BiliText API** (http://localhost:8000) - B站视频分析服务
   - Python/FastAPI
   - 提供语音转录、画面OCR、场景描述功能
   - 自动检查依赖并初始化

2. **Express 后端** (http://localhost:3001)
   - Node.js/Express
   - 调用 BiliText API 处理视频分析请求

3. **前端开发服务** (http://localhost:5173)
   - Vite 开发服务器
   - 热更新支持

---

## 🎯 服务端口一览

| 服务 | 端口 | 说明 |
|------|------|------|
| BiliText API | 8000 | B站视频分析（语音转录+OCR+场景描述） |
| Express 后端 | 3001 | API 服务 |
| 前端开发 | 5173 | Vite 开发服务器 |
| API 文档 | 8000/docs | BiliText API 文档 |

---

## 🔧 手动启动（高级用户）

### 分别启动各个服务

```bash
# 1. 启动 BiliText API
cd api
.venv\Scripts\uvicorn.exe bili_text.server.app:app --reload

# 2. 启动后端（新终端）
cd server
npm run dev

# 3. 启动前端（新终端）
npm run dev
```

---

## 🧪 功能测试

启动后可以测试以下功能：

1. 打开 http://localhost:5173
2. 进入视频播放页面
3. 点击 **"AI 分析视频"** 按钮
4. 等待分析完成，查看：
   - 语音转录（带时间戳）
   - 画面文字（OCR）
   - 场景描述（AI）

---

## ❓ 常见问题

### 端口被占用
如果提示端口被占用，说明服务已在运行，直接访问前端地址即可。

### BiliText 启动失败
- 检查 `api/.env` 配置是否正确
- 确保已安装 uv：`winget install astral.uv`
- 检查火山引擎 API 密钥配置

### 后端启动失败
检查 `server/.env` 文件中的 `BILI_TEXT_API_URL` 配置。

---

## 🛑 停止服务

在终端中按 **Ctrl+C** 可以停止所有服务。
