# NVDA 测试指南

## 1. 下载和安装 NVDA

### 下载地址
- 官方网站：https://www.nvaccess.org/download/
- 选择"Download"按钮下载最新版本
- NVDA 是完全免费的开源软件

### 安装步骤
1. 运行下载的安装程序
2. 选择语言（简体中文）
3. 按照向导完成安装
4. 安装完成后，NVDA 会自动启动并开始朗读

---

## 2. NVDA 基本快捷键

### 启动和退出
- **启动 NVDA**: `Ctrl + Alt + N`
- **退出 NVDA**: `NVDA + Q`（NVDA键默认是Insert或CapsLock）

### 浏览网页
- **下一个元素**: `↓` 或 `Tab`
- **上一个元素**: `↑` 或 `Shift + Tab`
- **下一个标题**: `H`
- **下一个链接**: `K`
- **下一个按钮**: `B`
- **下一个表单字段**: `F`
- **下一个地标**: `D`

### 阅读控制
- **停止朗读**: `Ctrl`
- **朗读当前行**: `NVDA + ↑`
- **朗读全部**: `NVDA + ↓`
- **朗读焦点元素**: `NVDA + Tab`

---

## 3. 测试您的平台

### 3.1 启动测试环境
1. 启动 NVDA
2. 打开浏览器（推荐Chrome或Firefox）
3. 访问您的平台：http://localhost:5173

### 3.2 登录页面测试
**测试项目**：
- [ ] NVDA 能朗读页面标题"无障碍AI教学平台"
- [ ] 使用 Tab 键可以依次访问：邮箱输入框 → 密码输入框 → 登录按钮 → 注册链接
- [ ] NVDA 能朗读每个表单字段的标签（"邮箱 必填项"、"密码 必填项"）
- [ ] 输入错误信息后，NVDA 能朗读错误提示
- [ ] 按 Enter 键可以提交表单

### 3.3 无障碍偏好选择页面测试
**测试项目**：
- [ ] NVDA 能朗读页面标题"选择您的无障碍偏好"
- [ ] 使用方向键（↑↓←→）可以在4个选项之间切换
- [ ] NVDA 能朗读每个选项的标签和描述
- [ ] 按 Space 或 Enter 键可以选择选项
- [ ] 选择后，NVDA 能朗读"已选择 XXX"的状态更新
- [ ] Tab 键可以移动到"确认并继续"按钮

### 3.4 主页测试
**测试项目**：
- [ ] NVDA 能朗读欢迎消息
- [ ] 使用 H 键可以在标题之间跳转
- [ ] 使用 K 键可以在链接之间跳转
- [ ] 使用 B 键可以在按钮之间跳转
- [ ] 导航菜单可以通过 Tab 键访问
- [ ] 所有功能卡片的内容都能被朗读

### 3.5 视频播放器测试
**测试项目**：
- [ ] NVDA 能朗读视频标题
- [ ] 视频控制按钮可以通过键盘访问
- [ ] "显示/隐藏文字稿"按钮的状态能被正确朗读
- [ ] 文字稿内容可以被 NVDA 朗读

---

## 4. 常见问题

### Q1: NVDA 朗读速度太快/太慢
**解决方案**：
- 加快语速：`NVDA + Ctrl + ↑`
- 减慢语速：`NVDA + Ctrl + ↓`

### Q2: NVDA 朗读了不必要的内容
**解决方案**：
- 检查是否使用了 `aria-hidden="true"` 隐藏装饰性元素
- 确保图标和装饰性图片不会被朗读

### Q3: NVDA 没有朗读某些重要信息
**解决方案**：
- 检查元素是否有正确的 `aria-label` 或 `aria-labelledby`
- 确保动态内容使用了 `aria-live` 属性

### Q4: 焦点顺序混乱
**解决方案**：
- 避免使用 `tabindex` 大于 0 的值
- 使用语义化 HTML 保持自然的焦点顺序

---

## 5. 验收标准

您的平台应该满足以下标准：

✅ **基本功能**
- 所有功能都可以仅使用键盘完成
- NVDA 能朗读所有重要信息
- 表单错误提示能被及时朗读
- 动态内容更新能被通知

✅ **导航体验**
- 焦点顺序符合逻辑（从上到下，从左到右）
- 可以使用快捷键（H/K/B/F）快速导航
- 有"跳转到主内容"链接

✅ **内容可理解**
- 所有图片有替代文本（如果有图片）
- 链接文本清晰描述目标
- 按钮文本描述操作

---

## 6. 下一步

完成测试后，您可以：

1. **记录问题**：将发现的问题记录在项目的 issue 中
2. **持续改进**：根据用户反馈不断优化无障碍体验
3. **获取认证**：考虑申请 WCAG 2.1 AA 级认证

---

**祝您测试顺利！**
